{"version":3,"sources":["../../src/hooks/usePinnedNav.ts","../../src/components/NavContext.tsx","../../src/defaults.ts","../../src/hooks/useBadge.ts"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { useNavConfig } from '../components/NavContext'\nimport type { PinnedItem } from '../types'\n\n/**\n * Hook to manage pinned navigation items\n *\n * Supports two storage modes:\n * - 'preferences': Persists in Payload preferences (per-user, synced)\n * - 'localStorage': Persists in browser localStorage (per-browser)\n */\nexport function usePinnedNav() {\n  const { pinnedStorage, onPinChange } = useNavConfig()\n  const [pinnedItems, setPinnedItems] = useState<PinnedItem[]>([])\n  const [loading, setLoading] = useState(true)\n\n  // Fetch pinned items based on storage mode\n  const fetchPinnedItems = useCallback(async () => {\n    try {\n      if (pinnedStorage === 'localStorage') {\n        const stored = localStorage.getItem('nav-pinned')\n        setPinnedItems(stored ? JSON.parse(stored) : [])\n      } else {\n        // Fetch from API (Payload preferences)\n        const res = await fetch('/api/nav/pinned')\n        const data = await res.json()\n        setPinnedItems(data.pinnedItems || [])\n      }\n    } catch (error) {\n      console.error('Error fetching pinned items:', error)\n      setPinnedItems([])\n    } finally {\n      setLoading(false)\n    }\n  }, [pinnedStorage])\n\n  // Fetch on mount\n  useEffect(() => {\n    fetchPinnedItems()\n  }, [fetchPinnedItems])\n\n  // Save to storage\n  const saveItems = useCallback(\n    async (items: PinnedItem[]) => {\n      if (pinnedStorage === 'localStorage') {\n        localStorage.setItem('nav-pinned', JSON.stringify(items))\n        return items\n      } else {\n        // This will be handled by individual API calls\n        return items\n      }\n    },\n    [pinnedStorage],\n  )\n\n  // Pin an item\n  const pinItem = useCallback(\n    async (slug: string, type: 'collection' | 'global' | 'custom') => {\n      const newItem: PinnedItem = { slug, type, order: pinnedItems.length }\n\n      // Optimistic update\n      setPinnedItems((prev) => [...prev, newItem])\n\n      try {\n        if (pinnedStorage === 'localStorage') {\n          await saveItems([...pinnedItems, newItem])\n        } else {\n          const res = await fetch('/api/nav/pin', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ slug, type }),\n          })\n          const data = await res.json()\n          if (data.pinnedItems) {\n            setPinnedItems(data.pinnedItems)\n          }\n        }\n\n        onPinChange?.(newItem, 'pin')\n      } catch (error) {\n        console.error('Error pinning item:', error)\n        await fetchPinnedItems() // Rollback\n      }\n    },\n    [pinnedItems, pinnedStorage, saveItems, fetchPinnedItems, onPinChange],\n  )\n\n  // Unpin an item\n  const unpinItem = useCallback(\n    async (slug: string, type: string) => {\n      const item = pinnedItems.find((i) => i.slug === slug && i.type === type)\n\n      // Optimistic update\n      setPinnedItems((prev) => prev.filter((i) => !(i.slug === slug && i.type === type)))\n\n      try {\n        if (pinnedStorage === 'localStorage') {\n          const newItems = pinnedItems.filter((i) => !(i.slug === slug && i.type === type))\n          await saveItems(newItems)\n        } else {\n          const res = await fetch('/api/nav/unpin', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ slug, type }),\n          })\n          const data = await res.json()\n          if (data.pinnedItems) {\n            setPinnedItems(data.pinnedItems)\n          }\n        }\n\n        if (item) {\n          onPinChange?.(item, 'unpin')\n        }\n      } catch (error) {\n        console.error('Error unpinning item:', error)\n        await fetchPinnedItems() // Rollback\n      }\n    },\n    [pinnedItems, pinnedStorage, saveItems, fetchPinnedItems, onPinChange],\n  )\n\n  // Reorder items\n  const reorderItems = useCallback(\n    async (items: PinnedItem[]) => {\n      // Optimistic update\n      setPinnedItems(items)\n\n      try {\n        if (pinnedStorage === 'localStorage') {\n          await saveItems(items)\n        } else {\n          const res = await fetch('/api/nav/reorder', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ items }),\n          })\n          const data = await res.json()\n          if (data.pinnedItems) {\n            setPinnedItems(data.pinnedItems)\n          }\n        }\n      } catch (error) {\n        console.error('Error reordering items:', error)\n        await fetchPinnedItems() // Rollback\n      }\n    },\n    [pinnedStorage, saveItems, fetchPinnedItems],\n  )\n\n  // Check if an item is pinned\n  const isPinned = useCallback(\n    (slug: string, type: string) => {\n      return pinnedItems.some((item) => item.slug === slug && item.type === type)\n    },\n    [pinnedItems],\n  )\n\n  // Toggle pin state\n  const togglePin = useCallback(\n    async (slug: string, type: 'collection' | 'global' | 'custom') => {\n      if (isPinned(slug, type)) {\n        await unpinItem(slug, type)\n      } else {\n        await pinItem(slug, type)\n      }\n    },\n    [isPinned, pinItem, unpinItem],\n  )\n\n  return {\n    pinnedItems,\n    loading,\n    pinItem,\n    unpinItem,\n    reorderItems,\n    isPinned,\n    togglePin,\n    refresh: fetchPinnedItems,\n  }\n}\n","'use client'\n\nimport React, { createContext, useContext } from 'react'\nimport type { NavConfigContextValue, BadgeContextValue } from '../types'\nimport { DEFAULT_ICONS, DEFAULT_BADGE_COLORS } from '../defaults'\nimport type { IconComponent } from './DynamicIcon'\n\n// ============================================================================\n// Nav Config Context - for plugin configuration\n// ============================================================================\n\nconst NavConfigContext = createContext<NavConfigContextValue | null>(null)\n\n/**\n * Hook to access sidebar plugin configuration\n */\nexport const useNavConfig = (): NavConfigContextValue => {\n  const ctx = useContext(NavConfigContext)\n  if (!ctx) {\n    // Return defaults if no provider (for backwards compatibility)\n    return {\n      icons: DEFAULT_ICONS, // Now returns Record<string, string>\n      classPrefix: 'nav',\n      enablePinning: true,\n      pinnedStorage: 'preferences',\n      cssVariables: DEFAULT_BADGE_COLORS,\n      customLinks: [],\n    }\n  }\n  return ctx\n}\n\n/**\n * Provider for sidebar configuration\n */\nexport const NavConfigProvider: React.FC<{\n  children: React.ReactNode\n  config: NavConfigContextValue\n}> = ({ children, config }) => {\n  return <NavConfigContext.Provider value={config}>{children}</NavConfigContext.Provider>\n}\n\n// ============================================================================\n// Custom Icon Context - for extending icons beyond the default set\n// ============================================================================\n\nconst CustomIconContext = createContext<Record<string, IconComponent>>({})\n\n/**\n * Hook to access custom icons registered by the app\n */\nexport const useCustomIcons = (): Record<string, IconComponent> => {\n  return useContext(CustomIconContext)\n}\n\n/**\n * Provider for custom icons beyond the default ~100 icons.\n * Use this when you need Lucide icons that aren't in the pre-defined set.\n *\n * @example\n * ```tsx\n * import { Newspaper, Trophy, Gamepad2 } from 'lucide-react'\n * import { SidebarIconProvider } from 'payload-sidebar-plugin/components'\n *\n * function MyIconProvider({ children }) {\n *   const customIcons = {\n *     'newspaper': Newspaper,\n *     'trophy': Trophy,\n *     'gamepad-2': Gamepad2,\n *   }\n *   return (\n *     <SidebarIconProvider icons={customIcons}>\n *       {children}\n *     </SidebarIconProvider>\n *   )\n * }\n * ```\n */\nexport const SidebarIconProvider: React.FC<{\n  children: React.ReactNode\n  icons: Record<string, IconComponent>\n}> = ({ children, icons }) => {\n  return <CustomIconContext.Provider value={icons}>{children}</CustomIconContext.Provider>\n}\n\n// ============================================================================\n// Badge Context - for dynamic badge values\n// ============================================================================\n\nconst BadgeContext = createContext<BadgeContextValue>({})\n\n/**\n * Hook to access all badge values\n */\nexport const useBadgeContext = (): BadgeContextValue => {\n  return useContext(BadgeContext)\n}\n\n/**\n * Provider for dynamic badge values\n * This should be used by the app to inject notification counts, etc.\n *\n * @example\n * ```tsx\n * function MyBadgeProvider({ children }) {\n *   const { unreadChats } = useNotifications()\n *   return (\n *     <SidebarBadgeProvider badges={{ 'chat-dashboard': { count: unreadChats, color: 'red' } }}>\n *       {children}\n *     </SidebarBadgeProvider>\n *   )\n * }\n * ```\n */\nexport const SidebarBadgeProvider: React.FC<{\n  children: React.ReactNode\n  badges: BadgeContextValue\n}> = ({ children, badges }) => {\n  return <BadgeContext.Provider value={badges}>{children}</BadgeContext.Provider>\n}\n\n// Export context for advanced use cases\nexport { BadgeContext, NavConfigContext, CustomIconContext }\n","// ============================================================================\n// Default Group Order\n// ============================================================================\n\n/**\n * Default group ordering priority\n * Lower number = higher priority (appears first)\n */\nexport const DEFAULT_GROUP_ORDER: Record<string, number> = {\n  // Vietnamese\n  'Nội dung': 1,\n  'Người dùng': 2,\n  'Bố cục': 3,\n  'Cài đặt': 4,\n  'Chat & AI': 5,\n  CRM: 6,\n  'Giao diện': 7,\n  'Công cụ': 8,\n  'Nâng cao': 99, // Always last\n\n  // English\n  Content: 1,\n  Users: 2,\n  Layout: 3,\n  Settings: 4,\n  Appearance: 7,\n  Tools: 8,\n  Advanced: 99, // Always last\n\n  // Default Payload groups\n  collections: 1,\n  globals: 2,\n}\n\n// ============================================================================\n// Default Icons (using Lucide icon names in kebab-case)\n// ============================================================================\n\n/**\n * Default icon name mapping for common collections and globals\n * Uses Lucide icon names: https://lucide.dev/icons\n */\nexport const DEFAULT_ICONS: Record<string, string> = {\n  // ===== DASHBOARD =====\n  dashboard: 'layout-dashboard',\n\n  // ===== COLLECTIONS =====\n\n  // Content\n  pages: 'file-text',\n  posts: 'newspaper',\n  media: 'image',\n  files: 'file',\n  categories: 'folder-open',\n  tags: 'tag',\n  badges: 'award',\n\n  // Users\n  users: 'users',\n\n  // Chat & Messages\n  chats: 'message-square',\n  messages: 'send',\n  'knowledge-base': 'book-open',\n\n  // Comments\n  comments: 'message-circle',\n\n  // CRM\n  contacts: 'contact',\n  'contact-fields': 'database',\n  'contact-notes': 'sticky-note',\n  leads: 'target',\n  deals: 'briefcase',\n  tickets: 'ticket',\n  activities: 'activity',\n  'customer-feedback': 'thumbs-up',\n  'customer-interests': 'heart',\n\n  // ===== GLOBALS =====\n\n  // Layout\n  header: 'menu',\n  footer: 'layout-template',\n\n  // Analytics & Dashboard\n  'analytics-settings': 'bar-chart-3',\n  'chat-dashboard': 'layout-dashboard',\n  'crm-dashboard': 'layout-dashboard',\n  'comments-dashboard': 'layout-dashboard',\n\n  // Settings\n  settings: 'settings',\n  'chat-config': 'message-square',\n  'ai-config': 'bot',\n  'posts-page-settings': 'newspaper',\n\n  // Appearance\n  'theme-settings': 'palette',\n\n  // Tools\n  'wordpress-import': 'file-down',\n  'company-info': 'building-2',\n  'image-optimizer': 'image-plus',\n  'floating-action-button': 'mouse-pointer-click',\n\n  // Search & Navigation\n  search: 'search',\n  redirects: 'arrow-right-left',\n\n  // Form\n  'form-submissions': 'database',\n\n  // Advanced / Fallback\n  advanced: 'wrench',\n\n  // ===== CUSTOM LINKS =====\n  // Default icons for custom links\n  link: 'link',\n  'external-link': 'external-link',\n  external: 'external-link',\n  globe: 'globe',\n  sparkles: 'sparkles',\n  zap: 'zap',\n  star: 'star',\n  folder: 'folder',\n  'file-code': 'file-code',\n  terminal: 'terminal',\n  help: 'help-circle',\n  info: 'info',\n  docs: 'book-marked',\n  documentation: 'book-marked',\n  api: 'terminal',\n  custom: 'sparkles',\n\n  // Common social/dev icons\n  github: 'github',\n  rocket: 'rocket',\n  chart: 'bar-chart-3',\n  book: 'book-open',\n}\n\n// ============================================================================\n// Badge Color CSS Variables\n// ============================================================================\n\n/**\n * Default CSS variables for badge colors\n */\nexport const DEFAULT_BADGE_COLORS: Record<string, string> = {\n  '--badge-red-bg': 'var(--theme-error-500, #ef4444)',\n  '--badge-red-text': '#ffffff',\n\n  '--badge-yellow-bg': 'var(--theme-warning-500, #eab308)',\n  '--badge-yellow-text': '#000000',\n\n  '--badge-blue-bg': 'var(--theme-elevation-500, #3b82f6)',\n  '--badge-blue-text': '#ffffff',\n\n  '--badge-green-bg': 'var(--theme-success-500, #22c55e)',\n  '--badge-green-text': '#ffffff',\n\n  '--badge-orange-bg': '#f97316',\n  '--badge-orange-text': '#ffffff',\n\n  '--badge-gray-bg': 'var(--theme-elevation-300, #6b7280)',\n  '--badge-gray-text': '#ffffff',\n}\n","'use client'\n\nimport { useMemo } from 'react'\nimport { useBadgeContext } from '../components/NavContext'\nimport type { BadgeValue, ResolvedBadge, BadgeColor } from '../types'\n\n/**\n * Resolve a badge value to a normalized format with color\n */\nfunction resolveBadgeValue(value: BadgeValue | undefined): ResolvedBadge | null {\n  if (value === undefined || value === null) return null\n\n  if (typeof value === 'number') {\n    return value > 0 ? { count: value, color: 'red' } : null\n  }\n\n  return value.count > 0 ? { count: value.count, color: value.color ?? 'red' } : null\n}\n\n/**\n * Hook to get badge for a specific slug\n *\n * @param slug - The collection or global slug\n * @returns Resolved badge with count and color, or null if no badge\n *\n * @example\n * ```tsx\n * const badge = useBadge('chat-dashboard')\n * // badge = { count: 5, color: 'red' } or null\n * ```\n */\nexport function useBadge(slug: string): ResolvedBadge | null {\n  const badges = useBadgeContext()\n\n  return useMemo(() => {\n    const badgeValue = badges[slug]\n    return resolveBadgeValue(badgeValue)\n  }, [badges, slug])\n}\n\n/**\n * Hook to get all badges as resolved format\n *\n * @returns Map of slug to resolved badge\n */\nexport function useAllBadges(): Record<string, ResolvedBadge> {\n  const badges = useBadgeContext()\n\n  return useMemo(() => {\n    const resolved: Record<string, ResolvedBadge> = {}\n\n    for (const [slug, value] of Object.entries(badges)) {\n      const badge = resolveBadgeValue(value)\n      if (badge) {\n        resolved[slug] = badge\n      }\n    }\n\n    return resolved\n  }, [badges])\n}\n\n/**\n * Get CSS class for badge color\n */\nexport function getBadgeColorClass(color: BadgeColor, classPrefix = 'nav'): string {\n  return `${classPrefix}__link-badge--${color}`\n}\n"],"mappings":"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","names":[]}